<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title></title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"
            integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
            crossorigin="anonymous">
    </script>
    <script src="../Scripts/ajaxCalls.js"></script>
    <script src="../Scripts/ajaxCallsWithKey.js"></script>
    <script>
        $(document).ready(function () {
            $("#SendPassword").click(SendPassword);
        });

        function SendPassword() {
           email = $("#EmailRecoverPassword").val();
            let apiCall = "../api/Volunteers?email=" + email;
            ajaxCall("GET", apiCall, "", getSuccessSP, getErrorSP);
                return false;
        }

        function getSuccessSP(password) {
            if (password != "") {
                let apiCall = "../api/Volunteers/sendEmail/" + email + "/" + password + "/";
                ajaxCall("GET", apiCall, "", getSuccessPemail, getErrorPemail);
            }
           else alert("Your email is not valid, please try again");
        }

        function getErrorSP() {
            alert("error");
        }


        function getErrorPemail() {
            alert("error");
        }


        function getSuccessPemail() {
            alert("success");
        }

    </script>

</head>
<body>

    <input type="email" id="EmailRecoverPassword" name="email" placeholder="Enter email" required />
    <button id="SendPassword">Send Password</button>
</body>
</html>